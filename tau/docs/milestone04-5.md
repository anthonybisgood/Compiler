---
title: CSC 453 Milestones 4-5
author: Todd Proebsting
date: 2023-02-05
---

# CSC 453 Milestone 4-5 (Grammar)
[Revision 0: February 5, 2022: Initial version]

[Revision 1: February 15, 2022: Clarified (1) number of functions, (2) that `if` is required in M4, and (3) that compound statements are delimited by curly braces.]

Milestone 4 Due: Tuesday, February 14, at 7pm

Milestone 5 Due: Tuesday, February 21, at 7pm

## Goal:
These milestones are writing the EBNF grammar for Tau.  

## Specifications

The Tau language specification is a separate document.

The grammar should be in EBNF format.  The format is described for the `rdgen` tool in the `rdgen` documentation.

## Milestone 4 requirements

Milestone 4 requires that you specify the grammar for the entire Tau language **except** for the following:

* You may omit all unary and binary arithmetic and logical operators.
* You may omit all array syntax (type declarations and indexing).
* You may omit parenthetical expressions.

## Milestone 5 requirements

Milestone 5 requires that you specify the grammar for the entire Tau language.

## `rdgen` tool

You will need to install `rdgen` to generate the parser.  `rdgen` is a Python program that generates a parser from an EBNF grammar.  

You can `git clone` the `rdgen` tool from the `rdgen` repository on GitHub.

```
$ git clone git@github.com:proebsting/rdgen.git
```

The tool's instructions are in the README file at [https://github.com/proebsting/rdgen](https://github.com/proebsting/rdgen) 

You will invoke `rdgen` with something like the following (depending on where you cloned `rdgen`):

```
python3 rdgen/main.py create --input grammar.ebnf --output parse.py
```


## `parse.py`

DO NOT EDIT THE FILE GENERATED BY `rdgen`.  (In subsequent milestones, you will be editing the file, but not this one.)

This file contains the parser, which is given by class `Parser`.  It has two methods of interest:

* the constructor, which takes a scanner as an argument
* the `parse()` method, which parses the input.

## Ambiguities

If your grammar contains LL(1) parsing ambiguities, you will need to resolve them for subsequent milestones.  For this milestone, it's OK if your parser works despite the ambiguities, although you can get a headstart on the next milestone by addressing them early.

Parsing ambiguities are signalled in the generated parser in comments that include the word "`AMBIGUITY`", which will include a terse explanation.

## Testing

The best way to test your grammar is to use `rdgen` to generate a parser.  You can then use the parser to parse a program with your scanner.

You can invoke the compiler with the following

```
$ python3 -m tau.main --file test.tau --stopafter parser
```

## Notes

The Tau language specification is intentionally vague.  Feel free to publically discuss the language specification on Piazza.  If you have questions, please ask.

DO NOT, HOWEVER, GIVE GRAMMAR EXAMPLES ON PIAZZA.  Instead, ask questions like, "Does the grammar allow '`x = 1 + 2`'?  Why or why not?"

## Difficulty

Your grammar may not be the same as my grammar.  That's OK.  The goal is to get a working parser.  

For reference, my grammar has 26 nonterminals and is 63 lines long with lots of blank lines.  (Again, this is just for reference.  Your grammar may be different.)

That said, grammar writing can be tricky.  Start early and ask questions.

## Turning in the program

Turn in your program via Gradescope.  You will need to submit the following:

*  a single EBNF file called `grammar.ebnf`
*  your parser in `parse.py`
*  your scanner in `scanner.py`

NOTE: The `parse.py` file is generated by `rdgen`.  You must not edit it for these milestones.  You will edit it in subsequent milestones.

## Grading

If your submission passes at least 80% of the test cases, you will get full credit for this milestone.


